# GameTrad (游戏交易管理系统)

<div align="center">

![Version](https://img.shields.io/badge/Version-1.1.0-blue)
![Language](https://img.shields.io/badge/Language-Python-blue)
![Framework](https://img.shields.io/badge/Framework-TKinter%20|%20PyQt6-orange)
![License](https://img.shields.io/badge/License-专有软件-red)

</div>

## 项目概述

**GameTrad** 是一个专为游戏物品交易设计的高效管理系统，提供完整的库存管理、交易记录、市场监控和数据分析功能。系统目前有两个版本：

- **TKinter版本**：基于tkinter和ttkbootstrap构建的经典版本
- **PyQt6版本**：基于PyQt6构建的现代化界面版本

强大的数据统计功能和市场监控能力，帮助您实时掌握交易状态和库存价值，降低交易风险，提高盈利空间。

### 最新更新

- **价格显示优化**：修复了仪表盘中银两行情和女娲石行情数据的自动加载问题
- **UI优化**：改进了界面响应速度和用户体验
- **PyQt6版本**：全新基于PyQt6的现代化界面版本

## 主要功能

### 1. 仪表盘

提供全面的数据概览和可视化分析：
- 总库存价值、利润率分析
- 市场行情实时监控（银两/女娲石价格）
- 出库金额趋势图
- 库存详情一览

### 2. 库存管理

全面管理游戏物品库存：
- 实时掌握剩余数量、平均成本和库存价值
- 自动计算平均成本、利润和预估利润
- 支持物品名称搜索和筛选
- 单个物品的完整入库/出库历史

### 3. 入库管理

管理所有入库记录：
- 记录物品名称、入库时间、数量、成本和库存价值
- 支持手动添加、编辑和删除
- OCR图像识别自动录入数据
- 批量导入CSV文件

### 4. 出库管理

管理所有出库记录：
- 记录物品名称、出库时间、数量、单价和总金额
- 自动计算利润和手续费
- 支持OCR识别、自动添加
- 批量导入CSV文件

### 5. 交易监控

自动监控交易市场情况：
- 实时价格、目标价提醒、策略建议
- 自动计算成本、利润和利润率
- 资金效率分析
- OCR识别市场情况，快速添加

### 6. 价格监控

监控游戏货币价格：
- 自动抓取多个平台价格数据
- 价格趋势对比
- 异常价格自动通知
- 可设置价格异常提醒和通过Server酱推送

### 7. 数据管理

完善的数据输入输出功能：
- 支持CSV格式数据输入输出
- 自动备份和恢复数据
- 详细的数据日志记录
- 支持数据迁移和备份

### 8. 自定义公式与物品词典

丰富的自定义功能：
- 灵活扩展的库存价值计算公式
- 物品名称词典管理
- Server酱推送配置
- 图表显示和资源配置

## 安装与使用

### 系统要求
- **操作系统**：Windows 10/11
- **Python**：3.8 及以上
- **内存**：4GB+
- **磁盘空间**：500MB+
- **数据库**：MySQL 5.7+（已配置远程连接）

### 安装方法

#### 1. 安装包安装（推荐）
直接运行 `GameTrad_Setup.exe` 安装程序

#### 2. 源码运行

1. 克隆或下载项目代码
2. 安装依赖：
   ```
   pip install -r requirements.txt
   ```
3. 运行应用程序：
   - **TKinter版本**：`python -m src.gui.main_window`
   - **PyQt6版本**：`python -m src_qt.run_app`

### 使用说明

1. 首次启动时，系统会自动连接到远程数据库
2. 在仪表盘中可以查看价格行情和库存概览
3. 通过侧边栏可切换到不同的功能模块

## 技术栈

### TKinter版本
- **GUI框架**：tkinter + ttkbootstrap
- **图表组件**：matplotlib
- **数据处理**：pandas, numpy
- **数据库**：MySQL (mysqlclient)
- **网络请求**：requests

### PyQt6版本
- **GUI框架**：PyQt6
- **图表组件**：matplotlib
- **数据处理**：pandas, numpy
- **数据库**：MySQL (mysqlclient)
- **网络请求**：requests

## 数据库说明

本系统已经配置好远程MySQL数据库连接，用户**无需安装本地MySQL服务**即可正常使用。数据存储在云端服务器上，支持多设备数据共享和同步。

> 注意：使用本系统需要保持网络连接，以确保与远程数据库的正常通信。

## 常见问题 FAQ

### 1. 价格行情显示"加载中..."

可能原因和解决方法：
- 网络连接问题：检查网络连接是否正常
- API访问限制：等待一段时间后重试
- 价格数据源异常：尝试切换到银两/女娲石行情标签页，再回到仪表盘
- 重启应用：关闭并重新启动应用程序

### 2. 数据库连接失败

检查服务、参数、权限，确保网络连接正常。如需修改连接配置，可编辑 `src/core/db_manager.py` 中的连接参数。

### 3. OCR 识别失败

确保图片清晰度足够高，网络连接正常。可尝试重新截图或调整OCR识别参数提高识别准确率。

## 版本规划

1. **数据分析增强**：更高级的统计分析和预测功能
2. **移动端支持**：开发配套移动应用
3. **AI辅助决策**：智能交易策略建议
4. **云端同步**：增强数据同步和备份能力

## 软件许可

本软件为专有软件，使用受到限制。详见 [LICENSE](LICENSE) 文件。

## 开发团队

- **开发者**：三只小猪
- **版本**：1.1.0

---

<div align="center">

感谢使用 GameTrad 游戏交易管理系统

</div>