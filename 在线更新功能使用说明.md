# 游戏交易系统 - 在线更新功能使用说明

## 功能概述

游戏交易系统的在线更新功能允许用户自动检查、下载和安装应用程序的最新版本，无需手动下载和安装。该功能基于GitHub Releases实现，简单易用且可靠。

## 用户操作指南

### 检查更新

1. 打开游戏交易系统
2. 点击菜单栏中的"帮助" -> "检查更新"
3. 系统将自动连接GitHub检查是否有新版本可用

### 下载和安装更新

如果发现新版本：
1. 在更新对话框中查看新版本信息和更新说明
2. 点击"下载更新"按钮开始下载
3. 下载完成后，点击"安装更新"按钮启动安装程序
4. 当前程序将自动关闭，安装程序将引导您完成更新过程

### 手动安装

如果自动安装失败：
1. 点击"打开下载文件夹"按钮
2. 在打开的文件夹中找到下载的安装程序
3. 手动运行安装程序完成更新

## 开发者指南

### 更新发布流程

1. 准备新版本安装包
2. 在GitHub上创建新的Release
3. 上传安装包到Release
4. 填写Release信息，包括版本号、更新说明等

### GitHub Release格式要求

Release信息应包含以下内容：
- 标签名（tag_name）：版本号，如"v1.0.1"
- 发布名（name）：发布标题，如"游戏交易系统 v1.0.1"
- 正文（body）：更新说明，支持Markdown格式
- 资源（assets）：上传的安装包文件

### 示例JSON格式

```json
{
  "tag_name": "v1.0.1",
  "name": "游戏交易系统 v1.0.1",
  "body": "## 更新内容\n\n- 添加在线更新功能\n- 修复部分界面显示问题",
  "published_at": "2024-05-15T08:00:00Z",
  "assets": [
    {
      "name": "GameTrad_Setup_1.0.1.exe",
      "browser_download_url": "https://github.com/user/repo/releases/download/v1.0.1/GameTrad_Setup_1.0.1.exe"
    }
  ]
}
```

### 注意事项

1. 确保安装包文件名包含版本号，格式为"GameTrad_Setup_X.Y.Z.exe"
2. 更新说明应清晰描述新版本的变化和改进
3. 如果需要强制用户更新，可以在应用启动时自动检查更新

## 常见问题

### 检查更新失败

可能原因：
- 网络连接问题
- GitHub服务暂时不可用
- 更新URL配置错误

解决方法：
- 检查网络连接
- 稍后重试
- 联系开发者获取支持

### 下载更新失败

可能原因：
- 网络连接不稳定
- 下载链接失效
- 磁盘空间不足

解决方法：
- 检查网络连接并重试
- 尝试手动下载安装包
- 清理磁盘空间

### 安装更新失败

可能原因：
- 权限不足
- 文件被占用
- 安装包损坏

解决方法：
- 以管理员身份运行安装程序
- 关闭所有相关程序后重试
- 重新下载安装包 